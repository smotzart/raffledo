{"version":3,"sources":["core.coffee"],"names":["$","tooltip","on","event","addClass","gameId","relatedTarget","data","this","find","val","modal","get","games_id","insert_data","item","j","len","length","id","name","html","hide","show","el","link","range","sel","preventDefault","attr","document","getElementById","console","log","createRange","selectNodeContents","window","getSelection","removeAllRanges","addRange","execCommand","fadeOut","open","each","i","e","ajaxForm","success","$this","box","box_body","box_head","child","favs","closest","children","removeClass","remove","another_boxes","another_header","another_parent","box_header","box_order","box_parent","boxes_count","cloneItem","siblings","hasClass","clone","prepend","append"],"mappings":"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","sourcesContent":["$ ->\r\n  $('[data-toggle=\"tooltip\"]').tooltip()\r\n\r\n  $('.welcome').on 'click', 'form', (event) ->\r\n    $('.welcome-footer').addClass('fade')\r\n\r\n  $('#reportGameModal').on 'show.bs.modal', (event) ->\r\n    button = $(event.relatedTarget) \r\n    gameId = button.data('gameid')\r\n    \r\n    modal = $(this)\r\n    modal.find('#reportGameId').val(gameId)\r\n\r\n  $('#hideTagsModal')\r\n    .on 'show.bs.modal', (event) ->\r\n      button = $(event.relatedTarget) \r\n      gameId = button.data('gameid')\r\n      modal  = $(this)\r\n\r\n      $.get \"/index/tags\", {'games_id': gameId}, (data) ->\r\n        if data.length > 0\r\n          insert_data = ''\r\n          for item in data\r\n            insert_data += '<div class=\"custom-control custom-checkbox\"><input type=\"checkbox\" class=\"custom-control-input\" name=\"tags_id[]\" value=\"' + item.id + '\" id=\"customCheck' + item.id + '\"><label class=\"custom-control-label\" for=\"customCheck' + item.id + '\">' + item.name + '</label></div> '\r\n          $('#modal_tags_list').html(insert_data)      \r\n        else\r\n          modal.find('[type=\"submit\"]').hide()\r\n      , 'json'\r\n\r\n    .on 'hide.bs.modal', (event) ->\r\n      modal  = $(this)\r\n      modal.find('[type=\"submit\"]').show()\r\n      $('#modal_tags_list').html(\"Game don't have related tags\") \r\n  \r\n  $('.view-game').on 'click', (event) ->    \r\n    event.preventDefault()\r\n    link  = $(this).attr('href')\r\n    id    = $(this).data('game')\r\n    el    = document.getElementById(\"view-game-\" + id)\r\n    console.log \"1\"\r\n    if el != null\r\n      console.log \"2\"\r\n      range = document.createRange()\r\n      range.selectNodeContents(el)\r\n      sel   = window.getSelection()\r\n      sel.removeAllRanges()\r\n      sel.addRange(range)\r\n      document.execCommand('copy')\r\n      \r\n      $('#box-' + id).find('.game-hide-control').fadeOut 'slow', () ->\r\n        window.open link\r\n      \r\n    \r\n\r\n  $('#regular-games .box-hide-form').each (i,e)->\r\n    $(e).ajaxForm\r\n      success: () -> \r\n        $this     = $(e)\r\n        box_body  = $('#regular-games-body')\r\n        box_head  = $('#regular-games .box-header')\r\n        box       = $this.closest('.box')\r\n        order     = box.data('order')\r\n        child     = box_body.children().length\r\n        favs      = $('#favs-games-body').children().length\r\n        box.fadeOut 'fast', () ->\r\n          console.log child, box_head\r\n          if child == 1 && favs != 0\r\n            box_head.removeClass('d-block').addClass('d-none')\r\n          if child == 1 && favs == 0\r\n            $('#regular-games-empty').removeClass('d-none').addClass('d-block')\r\n          else \r\n            $('#regular-games-empty').removeClass('d-block').addClass('d-none')\r\n        .remove()\r\n\r\n  $('#favs-games .box-hide-form').each (i,e)->\r\n    $(e).ajaxForm\r\n      success: () -> \r\n        $this     = $(e)\r\n        box_body  = $('#favs-games-body')\r\n        box_head  = $('#favs-games .box-header')\r\n        box       = $this.closest('.box')\r\n        order     = box.data('order')\r\n        child     = box_body.children().length\r\n\r\n        box.fadeOut 'fast', () ->\r\n          if child == 1 || child == 0\r\n            box_head.removeClass('d-block').addClass('d-none')\r\n        .remove()\r\n\r\n\r\n  $('.box-save-form').each (i,e) ->  \r\n    $(e).ajaxForm\r\n      success: () -> \r\n        $this       = $(e)\r\n        box         = $this.closest('.box')\r\n        box_parent  = box.closest('.box-parent')\r\n        box_header  = box_parent.siblings('.box-header')\r\n        box_order   = box.data('order')\r\n        boxes_count = box.siblings().length\r\n        form        = $this.closest('.box-save-form')     \r\n\r\n        if box_parent.hasClass('regular')\r\n          another_boxes   = $('#favs-games-body').children().length\r\n          another_header  = $('#favs-games').find('.box-header')\r\n          another_parent  = $('#favs-games-body')\r\n        else\r\n          another_boxes   = $('#regular-games-body').children().length\r\n          another_header  = $('#regular-games').find('.box-header')\r\n          another_parent  = $('#regular-games-body')\r\n\r\n        cloneItem = box.clone(true)\r\n        \r\n        box.fadeOut 'fast', () ->\r\n          if boxes_count == 0\r\n            box_header.removeClass('d-block').addClass('d-none')\r\n          if another_boxes == 0\r\n            another_header.removeClass('d-none').addClass('d-block')\r\n\r\n          if box_order == 0\r\n            another_parent.prepend(cloneItem)\r\n          else\r\n            another_parent.append(cloneItem)\r\n        .remove()\r\n"],"file":"core-min.js"}