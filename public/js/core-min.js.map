{"version":3,"sources":["core.coffee"],"names":["$","tooltip","toast","on","event","addClass","gameId","relatedTarget","data","this","find","val","document","ready","window","location","hash","smoothScroll","scrollTarget","offset","afterScroll","opt","delegateSelector","speed"],"mappings":"AAAAA,EAAE,WA0BA,OAzBAA,EAAE,2BAA2BC,UAC7BD,EAAE,UAAUE,MAAM,QAClBF,EAAE,YAAYG,GAAG,QAAS,OAAQ,SAASC,GACzC,OAAOJ,EAAE,mBAAmBK,SAAS,UAEvCL,EAAE,oBAAoBG,GAAG,gBAAiB,SAASC,GACjD,IAAYE,EAIZ,OAFAA,EADSN,EAAEI,EAAMG,eACDC,KAAK,UACbR,EAAES,MACGC,KAAK,iBAAiBC,IAAIL,KAEzCN,EAAEY,UAAUC,MAAM,WAChB,GAAIC,OAAOC,SAASC,KAClB,OAAOhB,EAAEiB,aAAa,CACpBC,aAAcJ,OAAOC,SAASC,KAAO,GACrCG,QAAS,IACTC,YAAa,SAASC,GACpB,GAAyB,cAArBA,EAAIH,aACN,OAAOlB,EAAE,mBAAmBK,SAAS,aAMxCL,EAAE,QAAQiB,aAAa,CAC5BK,iBAAkB,uBAClBH,QAAS,IACTI,MAAO,IACPH,YAAa,SAASC,GACpB,GAAyB,cAArBA,EAAIH,aACN,OAAOlB,EAAE,mBAAmBK,SAAS","sourcesContent":["$ ->\r\n  $('[data-toggle=\"tooltip\"]').tooltip()\r\n\r\n  $('.toast').toast('show')\r\n\r\n  $('.welcome').on 'click', 'form', (event) ->\r\n    $('.welcome-footer').addClass('fade')\r\n\r\n  $('#reportGameModal').on 'show.bs.modal', (event) ->\r\n    button = $(event.relatedTarget) \r\n    gameId = button.data('gameid')\r\n    \r\n    modal = $(this)\r\n    modal.find('#reportGameId').val(gameId)\r\n\r\n  $(document).ready () ->\r\n    if window.location.hash\r\n      $.smoothScroll\r\n        scrollTarget: window.location.hash + \"\"\r\n        offset: -120\r\n        afterScroll: (opt) ->\r\n          if opt.scrollTarget == '#register'\r\n            $('.welcome-footer').addClass('fade')\r\n\r\n  $('body').smoothScroll\r\n    delegateSelector: '[data-scroll=\"true\"]'\r\n    offset: -120\r\n    speed: 1000\r\n    afterScroll: (opt) ->\r\n      if opt.scrollTarget == '#register'\r\n        $('.welcome-footer').addClass('fade')\r\n\r\n\r\n  ###\r\n  $('#hideTagsModal')\r\n    .on 'show.bs.modal', (event) ->\r\n      button = $(event.relatedTarget) \r\n      gameId = button.data('gameid')\r\n      modal  = $(this)\r\n\r\n      $.get \"/index/tags\", {'games_id': gameId}, (data) ->\r\n        if data.length > 0\r\n          insert_data = ''\r\n          for item in data\r\n            insert_data += '<div class=\"custom-control custom-checkbox\"><input type=\"checkbox\" class=\"custom-control-input\" name=\"tags_id[]\" value=\"' + item.id + '\" id=\"customCheck' + item.id + '\"><label class=\"custom-control-label\" for=\"customCheck' + item.id + '\">' + item.name + '</label></div> '\r\n          $('#modal_tags_list').html(insert_data)      \r\n        else\r\n          modal.find('[type=\"submit\"]').hide()\r\n      , 'json'\r\n\r\n    .on 'hide.bs.modal', (event) ->\r\n      modal  = $(this)\r\n      modal.find('[type=\"submit\"]').show()\r\n      $('#modal_tags_list').html(\"Game don't have related tags\") \r\n  \r\n  $('.view-game').on 'click', (event) ->    \r\n    event.preventDefault()\r\n    link  = $(this).attr('href')\r\n    id    = $(this).data('game')\r\n    el    = document.getElementById(\"view-game-\" + id)\r\n    if el != null\r\n      range = document.createRange()\r\n      range.selectNodeContents(el)\r\n      sel   = window.getSelection()\r\n      sel.removeAllRanges()\r\n      sel.addRange(range)\r\n      document.execCommand('copy')\r\n      \r\n    $('#box-' + id).find('.game-hide-control').fadeOut 'slow', () ->\r\n      window.open link\r\n      \r\n    \r\n\r\n  $('#regular-games .box-hide-form').each (i,e)->\r\n    $(e).ajaxForm\r\n      success: () -> \r\n        $this     = $(e)\r\n        box_body  = $('#regular-games-body')\r\n        box_head  = $('#regular-games .box-header')\r\n        box       = $this.closest('.box')\r\n        order     = box.data('order')\r\n        child     = box_body.children().length\r\n        favs      = $('#favs-games-body').children().length\r\n        box.fadeOut 'fast', () ->\r\n          console.log child, box_head\r\n          if child == 1 && favs != 0\r\n            box_head.removeClass('d-block').addClass('d-none')\r\n          if child == 1 && favs == 0\r\n            $('#regular-games-empty').removeClass('d-none').addClass('d-block')\r\n          else \r\n            $('#regular-games-empty').removeClass('d-block').addClass('d-none')\r\n        .remove()\r\n\r\n  $('#favs-games .box-hide-form').each (i,e)->\r\n    $(e).ajaxForm\r\n      success: () -> \r\n        $this     = $(e)\r\n        box_body  = $('#favs-games-body')\r\n        box_head  = $('#favs-games .box-header')\r\n        box       = $this.closest('.box')\r\n        order     = box.data('order')\r\n        child     = box_body.children().length\r\n\r\n        box.fadeOut 'fast', () ->\r\n          if child == 1 || child == 0\r\n            box_head.removeClass('d-block').addClass('d-none')\r\n        .remove()\r\n\r\n\r\n  $('.box-save-form').each (i,e) ->  \r\n    $(e).ajaxForm\r\n      success: () -> \r\n        $this       = $(e)\r\n        box         = $this.closest('.box')\r\n        box_parent  = box.closest('.box-parent')\r\n        box_header  = box_parent.siblings('.box-header')\r\n        box_order   = box.data('order')\r\n        boxes_count = box.siblings().length\r\n        form        = $this.closest('.box-save-form')     \r\n\r\n        if box_parent.hasClass('regular')\r\n          another_boxes   = $('#favs-games-body').children().length\r\n          another_header  = $('#favs-games').find('.box-header')\r\n          another_parent  = $('#favs-games-body')\r\n        else\r\n          another_boxes   = $('#regular-games-body').children().length\r\n          another_header  = $('#regular-games').find('.box-header')\r\n          another_parent  = $('#regular-games-body')\r\n\r\n        cloneItem = box.clone(true)\r\n        \r\n        box.fadeOut 'fast', () ->\r\n          if boxes_count == 0\r\n            box_header.removeClass('d-block').addClass('d-none')\r\n          if another_boxes == 0\r\n            another_header.removeClass('d-none').addClass('d-block')\r\n\r\n          if box_order == 0\r\n            another_parent.prepend(cloneItem)\r\n          else\r\n            another_parent.append(cloneItem)\r\n        .remove()\r\n  ###"],"file":"core-min.js"}