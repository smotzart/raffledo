{"version":3,"file":"core.js","sources":["core.coffee"],"names":[],"mappings":"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","sourcesContent":["$ ->\r\n  $('[data-toggle=\"tooltip\"]').tooltip()\r\n\r\n  $('.welcome').on 'click', 'form', (event) ->\r\n    $('.welcome-footer').addClass('fade')\r\n\r\n  $('#reportGameModal').on 'show.bs.modal', (event) ->\r\n    button = $(event.relatedTarget) \r\n    gameId = button.data('gameid')\r\n    \r\n    modal = $(this)\r\n    modal.find('#reportGameId').val(gameId)\r\n\r\n  $('#hideTagsModal')\r\n    .on 'show.bs.modal', (event) ->\r\n      button = $(event.relatedTarget) \r\n      gameId = button.data('gameid')\r\n      modal  = $(this)\r\n\r\n      $.get \"/index/tags\", {'games_id': gameId}, (data) ->\r\n        if data.length > 0\r\n          insert_data = ''\r\n          for item in data\r\n            insert_data += '<div class=\"custom-control custom-checkbox\"><input type=\"checkbox\" class=\"custom-control-input\" name=\"tags_id[]\" value=\"' + item.id + '\" id=\"customCheck' + item.id + '\"><label class=\"custom-control-label\" for=\"customCheck' + item.id + '\">' + item.name + '</label></div> '\r\n          $('#modal_tags_list').html(insert_data)      \r\n        else\r\n          modal.find('[type=\"submit\"]').hide()\r\n      , 'json'\r\n\r\n    .on 'hide.bs.modal', (event) ->\r\n      modal  = $(this)\r\n      modal.find('[type=\"submit\"]').show()\r\n      $('#modal_tags_list').html(\"Game don't have related tags\") \r\n  \r\n  $('.view-game').on 'click', (event) ->    \r\n    event.preventDefault()\r\n    link  = $(this).attr('href')\r\n    id    = $(this).data('game')\r\n    el    = document.getElementById(\"view-game-\" + id)\r\n    console.log \"1\"\r\n    if el != null\r\n      console.log \"2\"\r\n      range = document.createRange()\r\n      range.selectNodeContents(el)\r\n      sel   = window.getSelection()\r\n      sel.removeAllRanges()\r\n      sel.addRange(range)\r\n      document.execCommand('copy')\r\n      \r\n      $('#box-' + id).find('.game-hide-control').fadeOut 'slow', () ->\r\n        window.open link\r\n      \r\n    \r\n\r\n  $('#regular-games .box-hide-form').each (i,e)->\r\n    $(e).ajaxForm\r\n      success: () -> \r\n        $this     = $(e)\r\n        box_body  = $('#regular-games-body')\r\n        box_head  = $('#regular-games .box-header')\r\n        box       = $this.closest('.box')\r\n        order     = box.data('order')\r\n        child     = box_body.children().length\r\n        favs      = $('#favs-games-body').children().length\r\n        box.fadeOut 'fast', () ->\r\n          console.log child, box_head\r\n          if child == 1 && favs != 0\r\n            box_head.removeClass('d-block').addClass('d-none')\r\n          if child == 1 && favs == 0\r\n            $('#regular-games-empty').removeClass('d-none').addClass('d-block')\r\n          else \r\n            $('#regular-games-empty').removeClass('d-block').addClass('d-none')\r\n        .remove()\r\n\r\n  $('#favs-games .box-hide-form').each (i,e)->\r\n    $(e).ajaxForm\r\n      success: () -> \r\n        $this     = $(e)\r\n        box_body  = $('#favs-games-body')\r\n        box_head  = $('#favs-games .box-header')\r\n        box       = $this.closest('.box')\r\n        order     = box.data('order')\r\n        child     = box_body.children().length\r\n\r\n        box.fadeOut 'fast', () ->\r\n          if child == 1 || child == 0\r\n            box_head.removeClass('d-block').addClass('d-none')\r\n        .remove()\r\n\r\n\r\n  $('.box-save-form').each (i,e) ->  \r\n    $(e).ajaxForm\r\n      success: () -> \r\n        $this       = $(e)\r\n        box         = $this.closest('.box')\r\n        box_parent  = box.closest('.box-parent')\r\n        box_header  = box_parent.siblings('.box-header')\r\n        box_order   = box.data('order')\r\n        boxes_count = box.siblings().length\r\n        form        = $this.closest('.box-save-form')     \r\n\r\n        if box_parent.hasClass('regular')\r\n          another_boxes   = $('#favs-games-body').children().length\r\n          another_header  = $('#favs-games').find('.box-header')\r\n          another_parent  = $('#favs-games-body')\r\n        else\r\n          another_boxes   = $('#regular-games-body').children().length\r\n          another_header  = $('#regular-games').find('.box-header')\r\n          another_parent  = $('#regular-games-body')\r\n\r\n        cloneItem = box.clone(true)\r\n        \r\n        box.fadeOut 'fast', () ->\r\n          if boxes_count == 0\r\n            box_header.removeClass('d-block').addClass('d-none')\r\n          if another_boxes == 0\r\n            another_header.removeClass('d-none').addClass('d-block')\r\n\r\n          if box_order == 0\r\n            another_parent.prepend(cloneItem)\r\n          else\r\n            another_parent.append(cloneItem)\r\n        .remove()\r\n"]}