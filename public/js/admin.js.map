{"version":3,"file":"admin.js","sources":["admin.coffee"],"names":[],"mappings":"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","sourcesContent":["$ ->\r\n  $('[data-toggle=\"tooltip\"]').tooltip()\r\n\r\n  $('#removeTag').on 'show.bs.modal', (event) ->\r\n    button  = $(event.relatedTarget) \r\n    tagId   = button.data('tagid')\r\n    tagName = button.data('tagname')\r\n    \r\n    modal = $(this)\r\n    modal.find('#modal-tag-name').text(tagName)\r\n    modal.find('#tagId').val(tagId)\r\n  \r\n  $('#price_info').on 'change', (event) ->\r\n    $('#price').attr('placeholder': if $(this).is(':checked') then 'Information' else 'Preis')\r\n\r\n  $(\"[data-tag='yes']\").tagsinput\r\n    tagClass: 'badge badge-info'\r\n    cancelConfirmKeysOnEmpty: false\r\n\r\n  $('#companies_id').on 'change', () ->\r\n    if ($(this).val() == 'new')\r\n      $('#new_game').removeClass('d-none').find('input').removeAttr('disabled')\r\n    else\r\n      $('#new_game').addClass('d-none').find('input').attr('disabled', 'disabled')\r\n  $('#companies_id').change()\r\n  \r\n  $('#url_change .form-control').on 'change', (event) ->\r\n    input = $(this)\r\n    $.get \"/admin/companies/search\", {'search': input.val()}, (data) ->\r\n      if data.length == 1\r\n        for item in data\r\n          $('#companies_id').val(item.id).change()\r\n      $.get \"/admin/games/search\", {'search': input.val()}, (data) ->\r\n        if data.length > 0\r\n          input.addClass('is-invalid text-danger')\r\n        else\r\n          input.removeClass('is-invalid text-danger')\r\n      , 'json'\r\n      ###\r\n      if data.length > 0\r\n        insert_data = $('<div class=\"list-group list-group-flush\"></div>')\r\n        for item in data\r\n          insert_item = $('<a href=\"#\" data-company=\"' + item.id + '\" class=\"list-group-item list-group-item-action\">' + item.name + '</a>')\r\n          insert_item.on 'click', (e) ->\r\n            e.preventDefault()\r\n            company_id = $(this).data('company')\r\n            $('#companies_id').val(company_id).change()\r\n            $('#existUrl').modal('hide')\r\n          insert_data.append(insert_item)\r\n          \r\n        $('#existUrl .modal-body').html(insert_data)\r\n        $('#existUrl').modal('show')\r\n      ###\r\n    , 'json'\r\n\r\n  \r\n    \r\n\r\n  \r\n  tagsname = new Bloodhound\r\n    datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name')\r\n    queryTokenizer: Bloodhound.tokenizers.whitespace\r\n    prefetch: \r\n      url: '/admin/tags/get'\r\n      cache: false\r\n      filter: (tags) ->\r\n        $.map tags, (tag) ->\r\n          name: tag.name\r\n\r\n  tagsname.initialize()\r\n\r\n  $('#tags_input').tagsinput\r\n    tagClass: 'badge badge-info'\r\n    cancelConfirmKeysOnEmpty: false\r\n    trimValue: true\r\n    typeaheadjs:\r\n      name: 'tagsname'\r\n      displayKey: 'name'\r\n      valueKey: 'name'\r\n      source: tagsname.ttAdapter()"]}