Array.prototype.append=function(e){return null!=this.push&&this.push(e),this},angular.module("app",["ngRoute","ngResource","ngAnimate","ngSanitize","checklist-model","cgNotify"]).factory("APIGames",["$resource",function(e){return e("games/get")}]).factory("APIControl",["$resource",function(e){return e("games/control",{})}]).factory("APIShow",["$resource",function(e){return e("games/show/:id",{id:"@id"})}]).directive("tooltip",function(){return{restrict:"A",link:function(e,t,n){return t.hover(function(){return t.tooltip("show")},function(){return t.tooltip("hide")})}}}).run(["$rootScope","$route"].append(function(e,t){})).controller("AppCtrl",["$scope","APIGames","APIControl","$window","$timeout","notify",function(e,t,n,a,i,o){return e.data={},e.modalTags={},e.tags_id=[],e.showTagSuccess=!1,o.config({position:"right",container:"#notify",startTop:120,templateUrl:"custom_template.html",duration:3e3}),(e.getData=function(){return t.get({},function(t){return e.data=t})})(),e.toFavCollection=function(t){return new n({actionId:t.g.id,actionType:"save"}).$save({},function(){var n,a;if(o({messageTemplate:'<div class="mb-2"><b>Hinweis</b>Gewinnspiel wurde erfolgreich zu den Favoriten hinzugefügt</div>',classes:"theme"}),t.save_id=!0,"list"===e.data.view_type)return a=e.data.collections.regular.games.indexOf(t),n=e.data.collections.regular.games.splice(a,1),e.data.collections.favorite.games.push(n[0])})},e.toHideCollection=function(t,a){return new n({actionId:t.g.id,actionType:"hide"}).$save({},function(){var n;return n=e.data.collections[a].games.indexOf(t),e.data.collections[a].games.splice(n,1),o({messageTemplate:'<div class="mb-2"><b>Hinweis</b>'+t.g.title+" was hidden!</div>",classes:"error"})})},e.toViewCollection=function(e){var t,n,i;return e.is_view=!0,(t=document.createElement("span")).appendChild(document.createTextNode(e.g.suggested_solution)),t.className="sr-only",angular.element(document.body.append(t)),(n=document.createRange()).selectNodeContents(t),(i=a.getSelection()).removeAllRanges(),i.addRange(n),document.execCommand("copy"),t.remove(),o({messageTemplate:'<div class="mb-2"><b>Hinweis</b>Lösungsvorschlag wurde in die Zwischenablage kopiert!</div>',classes:"theme"})},e.toggleTagView=function(t,a){return new n({actionType:"toggleTagById",tag_id:t,tag_type:a}).$save({},function(){if("list"===e.data.view_type&&(o({messageTemplate:'<div class="mb-2"><b>Hinweis</b>Tag/company hidden</div>',classes:"theme"}),e.getData()),e.data.view_type===a&&"company"===a||e.data.view_type===a&&"tag"===a)return e.data.collections.regular.entry.is_hide=!e.data.collections.regular.entry.is_hide,e.data.collections.regular.entry.is_hide?o({messageTemplate:'<div class="mb-2"><b>Hinweis</b>Tag/company hide</div>',classes:"error"}):(o({messageTemplate:'<div class="mb-2"><b>Hinweis</b>Tag/company show back</div>',classes:"theme"}),e.showTagSuccess=!0,i(function(){return e.showTagSuccess=!1},3e3))})},e.openModal=function(t){return e.modalTags=t.tags},e.reportGame=function(t){return e.reportGameId=t.g.id},e.sendModal=function(){return new n({actionType:"hideTags",tags_id:e.tags_id}).$save({},function(){return o({messageTemplate:'<div class="mb-2"><b>Hinweis</b>Tags was hidden</div>'}),e.getData()})}}]);