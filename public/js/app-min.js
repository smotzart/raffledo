Array.prototype.append=function(e){return null!=this.push&&this.push(e),this},angular.module("app",["ngRoute","ngResource","ngAnimate","ngSanitize","checklist-model","ui-notification"]).factory("APIGames",["$resource",function(e){return e("games/get")}]).factory("APIControl",["$resource",function(e){return e("games/control",{})}]).factory("APIShow",["$resource",function(e){return e("games/show/:id",{id:"@id"})}]).directive("tooltip",function(){return{restrict:"A",link:function(e,t,n){return t.hover(function(){return t.tooltip("show")},function(){return t.tooltip("hide")})}}}).run(["$rootScope","$route"].append(function(e,t){})).config(["NotificationProvider",function(e){return e.setOptions({delay:5e3,startTop:120,startRight:15,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"top",closeOnClick:!1,templateUrl:"custom_template.html"})}]).controller("AppCtrl",["$scope","APIGames","APIControl","$window","$timeout","Notification",function(e,t,n,i,o,a){return e.data={},e.modalTags={},e.tags_id=[],e.showTagSuccess=!1,e.enableNotify=!0,e.disableNotify=function(){return console.log("disable notifications"),e.enableNotify=!1},(e.getData=function(){return t.get({},function(t){return e.data=t})})(),e.toFavCollection=function(t){return new n({actionId:t.g.id,actionType:"save"}).$save({},function(){var n,i;if(a({title:"Hinweis",message:"Gewinnspiel wurde erfolgreich zu den Favoriten hinzugefügt",scope:e},"notify-theme"),t.save_id=!0,"list"===e.data.view_type)return i=e.data.collections.regular.games.indexOf(t),n=e.data.collections.regular.games.splice(i,1),e.data.collections.favorite.games.push(n[0])})},e.toHideCollection=function(t,i){return new n({actionId:t.g.id,actionType:"hide"}).$save({},function(){var n;return n=e.data.collections[i].games.indexOf(t),e.data.collections[i].games.splice(n,1),a({title:"Hinweis",message:"Gewinnspiel "+t.g.title+" hidden!",scope:e},"notify-light")})},e.toViewCollection=function(t){var n,o,s;return t.is_view=!0,(n=document.createElement("span")).appendChild(document.createTextNode(t.g.suggested_solution)),n.className="sr-only",angular.element(document.body.append(n)),(o=document.createRange()).selectNodeContents(n),(s=i.getSelection()).removeAllRanges(),s.addRange(o),document.execCommand("copy"),n.remove(),a({title:"Hinweis",message:"Lösungsvorschlag wurde in die Zwischenablage kopiert!",scope:e},"notify-theme")},e.toggleTagView=function(t,i){return new n({actionType:"toggleTagById",tag_id:t,tag_type:i}).$save({},function(){if("list"===e.data.view_type&&(a({title:"Hinweis",message:"Success hide from list",scope:e},"notify-success"),e.getData()),e.data.view_type===i&&"company"===i||e.data.view_type===i&&"tag"===i)return e.data.collections.regular.entry.is_hide=!e.data.collections.regular.entry.is_hide,e.data.collections.regular.entry.is_hide?a({title:"Hinweis",message:"Success hide from list",scope:e},"notify-success"):(a({title:"Hinweis",message:"Return to list",scope:e},"notify-success"),e.showTagSuccess=!0,o(function(){return e.showTagSuccess=!1},3e3))})},e.openModal=function(t){return e.modalTags=t.tags},e.reportGame=function(t){return e.reportGameId=t.g.id},e.sendModal=function(){return new n({actionType:"hideTags",tags_id:e.tags_id}).$save({},function(){return a({title:"Hinweis",message:"Return to list",scope:e},"notify-success"),e.getData()})}}]);