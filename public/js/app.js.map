{"version":3,"file":"app.js","sources":["app.coffee"],"names":[],"mappings":"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","sourcesContent":["\r\n# Append to array, return array\r\nArray.prototype.append = (el) ->\r\n  this.push el if this.push?\r\n  this\r\n\r\nangular.module('app', [\r\n  'ngRoute', \r\n  'ngResource',\r\n  'checklist-model'\r\n])\r\n  .factory('APIGames', ['$resource', ($resource) -> $resource 'games/get'])\r\n  .factory('APIControl', ['$resource', ($resource) -> $resource 'games/control', {}])\r\n\r\n  .run([\r\n    '$rootScope', '$route'\r\n  ].append (root, $route) ->\r\n    console.log \"<-run->\"\r\n\r\n  )\r\n\r\n  .controller('AppCtrl', ['$scope', 'APIGames', 'APIControl', '$window', (self, APIGames, APIControl, window) ->\r\n\r\n    self.data = {}\r\n    self.modalTags = {}\r\n    self.tags_id = []\r\n    console.log location.pathname\r\n    APIGames.get {\"path\": window.location.pathname}, (data) ->\r\n      self.data = data\r\n\r\n    self.toggleSave = (game, key) ->\r\n      control = new APIControl\r\n        actionId: game.g.id\r\n        actionType: 'save'\r\n      control.$save {}, () ->\r\n        position  = self.data.collections[key].games.indexOf(game)\r\n        item      = self.data.collections[key].games.splice(position, 1)      \r\n       \r\n        self.data.collections[if key == 'regular' then 'favorite' else 'regular'].games.push(item[0])\r\n    \r\n    self.hideGame = (game, key) ->\r\n      control = new APIControl\r\n        actionId: game.g.id\r\n        actionType: 'hide'\r\n      control.$save {}, () ->\r\n        position  = self.data.collections[key].games.indexOf(game)\r\n        item      = self.data.collections[key].games.splice(position, 1)\r\n\r\n    self.showGame = (game) ->\r\n      if !game.is_view\r\n        game.is_view = true\r\n      window.open '/win/' + game.g.id\r\n\r\n    self.hideCompany = (game) ->\r\n      control = new APIControl\r\n        actionId: game.g.id\r\n        actionType: 'hideCompany'\r\n      control.$save {}, () ->\r\n        APIGames.get {}, (data) ->\r\n          self.data = data\r\n\r\n    self.hideTag = (game) ->\r\n      control = new APIControl\r\n        actionId: game.g.id\r\n        actionType: 'hideTags'\r\n        tags_id: self.tags_id\r\n      control.$save {}, () ->\r\n        APIGames.get {\"path\": window.location.pathname}, (data) ->\r\n          self.data = data\r\n\r\n    self.openModal = (game) ->\r\n      self.modalTags = game.tags\r\n\r\n    self.sendModal = () ->\r\n      control = new APIControl\r\n        actionType: 'hideTags'\r\n        tags_id: self.tags_id\r\n      control.$save {}, () ->\r\n        APIGames.get {\"path\": window.location.pathname}, (data) ->\r\n          self.data = data\r\n  ])\r\n"]}